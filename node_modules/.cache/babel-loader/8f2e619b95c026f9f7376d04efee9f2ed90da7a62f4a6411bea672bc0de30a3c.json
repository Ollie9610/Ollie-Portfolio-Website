{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ollie\\\\OneDrive\\\\Desktop\\\\Personal Portfolio Site\\\\src\\\\components\\\\ImageCropper.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport ReactCrop, { centerCrop, makeAspectCrop } from 'react-image-crop';\nimport { FaCheck, FaTimes, FaUndo, FaRedo, FaSearchPlus, FaSearchMinus, FaExpand, FaCompress } from 'react-icons/fa';\nimport 'react-image-crop/dist/ReactCrop.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ModalOverlay = styled(motion.div)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10000;\n  padding: 2rem;\n`;\n_c = ModalOverlay;\nconst ModalContent = styled(motion.div)`\n  background: white;\n  border-radius: 15px;\n  padding: 2rem;\n  max-width: 95vw;\n  max-height: 95vh;\n  overflow: auto;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n`;\n_c2 = ModalContent;\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n`;\n_c3 = ModalHeader;\nconst ModalTitle = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 1.5rem;\n`;\n_c4 = ModalTitle;\nconst CloseButton = styled(motion.button)`\n  background: none;\n  border: none;\n  font-size: 1.5rem;\n  color: #666;\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 50%;\n  \n  &:hover {\n    background: #f0f0f0;\n  }\n`;\n_c5 = CloseButton;\nconst CropContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n  flex: 1;\n  min-height: 0;\n`;\n_c6 = CropContainer;\nconst ImageContainer = styled.div`\n  position: relative;\n  max-width: 100%;\n  max-height: 70vh;\n  overflow: auto;\n  border-radius: 8px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  background: #f8f9fa;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 300px;\n`;\n_c7 = ImageContainer;\nconst StyledImage = styled.img`\n  max-width: none;\n  max-height: none;\n  display: block;\n  transform: scale(${props => props.zoom});\n  transition: transform 0.3s ease;\n  cursor: grab;\n  \n  &:active {\n    cursor: grabbing;\n  }\n`;\n_c8 = StyledImage;\nconst ZoomControls = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n`;\n_c9 = ZoomControls;\nconst ZoomButton = styled(motion.button)`\n  padding: 0.5rem;\n  border: 1px solid #ced4da;\n  border-radius: 6px;\n  background: white;\n  color: #6c757d;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.9rem;\n  \n  &:hover {\n    background: #f8f9fa;\n    border-color: #adb5bd;\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c0 = ZoomButton;\nconst ZoomSlider = styled.input`\n  width: 150px;\n  margin: 0 1rem;\n`;\n_c1 = ZoomSlider;\nconst ZoomLabel = styled.span`\n  font-size: 0.9rem;\n  color: #6c757d;\n  min-width: 60px;\n  text-align: center;\n`;\n_c10 = ZoomLabel;\nconst ImageInfo = styled.div`\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  margin-bottom: 1rem;\n  font-size: 0.9rem;\n  color: #6c757d;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n_c11 = ImageInfo;\nconst InfoItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n`;\n_c12 = InfoItem;\nconst Controls = styled.div`\n  display: flex;\n  gap: 1rem;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n_c13 = Controls;\nconst ControlButton = styled(motion.button)`\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-weight: 600;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: all 0.3s ease;\n\n  &.primary {\n    background: linear-gradient(45deg, #667eea, #764ba2);\n    color: white;\n\n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);\n    }\n  }\n\n  &.secondary {\n    background: #f8f9fa;\n    color: #6c757d;\n    border: 1px solid #dee2e6;\n\n    &:hover {\n      background: #e9ecef;\n    }\n  }\n\n  &.rotate {\n    background: linear-gradient(45deg, #28a745, #20c997);\n    color: white;\n\n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);\n    }\n  }\n`;\n_c14 = ControlButton;\nconst AspectRatioSelect = styled.select`\n  padding: 0.5rem;\n  border: 1px solid #ced4da;\n  border-radius: 6px;\n  font-size: 0.9rem;\n  background: white;\n`;\n_c15 = AspectRatioSelect;\nconst Instructions = styled.div`\n  background: #f8f9fa;\n  padding: 1rem;\n  border-radius: 8px;\n  margin-bottom: 1rem;\n  font-size: 0.9rem;\n  color: #666;\n  text-align: center;\n`;\n_c16 = Instructions;\nconst ImageCropper = ({\n  imageSrc,\n  onCropComplete,\n  onClose\n}) => {\n  _s();\n  const [crop, setCrop] = useState();\n  const [completedCrop, setCompletedCrop] = useState();\n  const [aspectRatio, setAspectRatio] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [zoom, setZoom] = useState(1);\n  const [imageSize, setImageSize] = useState({\n    width: 0,\n    height: 0\n  });\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const imgRef = useRef(null);\n  const canvasRef = useRef(null);\n  const containerRef = useRef(null);\n  const zoomTimeoutRef = useRef(null);\n  const onImageLoad = useCallback(e => {\n    var _containerRef$current, _containerRef$current2;\n    const {\n      width,\n      height,\n      naturalWidth,\n      naturalHeight\n    } = e.currentTarget;\n    setImageSize({\n      width: naturalWidth,\n      height: naturalHeight\n    });\n\n    // Calculate initial zoom to fit image in container\n    const containerWidth = ((_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.clientWidth) || 800;\n    const containerHeight = ((_containerRef$current2 = containerRef.current) === null || _containerRef$current2 === void 0 ? void 0 : _containerRef$current2.clientHeight) || 600;\n    const scaleX = containerWidth / width;\n    const scaleY = containerHeight / height;\n    const initialZoom = Math.min(scaleX, scaleY, 1) * 0.8; // 80% of fit size\n    setZoom(initialZoom);\n    const crop = centerCrop(makeAspectCrop({\n      unit: '%',\n      width: 90\n    }, aspectRatio, width, height), width, height);\n    setCrop(crop);\n  }, [aspectRatio]);\n  const handleZoomChange = useCallback(newZoom => {\n    const clampedZoom = Math.max(0.1, Math.min(5, newZoom));\n\n    // Clear existing timeout\n    if (zoomTimeoutRef.current) {\n      clearTimeout(zoomTimeoutRef.current);\n    }\n\n    // Debounce zoom changes to prevent ResizeObserver issues\n    zoomTimeoutRef.current = setTimeout(() => {\n      setZoom(clampedZoom);\n    }, 16); // ~60fps\n  }, []);\n  const handleZoomIn = useCallback(() => {\n    handleZoomChange(zoom * 1.2);\n  }, [zoom]);\n  const handleZoomOut = useCallback(() => {\n    handleZoomChange(zoom / 1.2);\n  }, [zoom]);\n  const handleFitToScreen = useCallback(() => {\n    if (imgRef.current && containerRef.current) {\n      const {\n        width,\n        height\n      } = imgRef.current;\n      const containerWidth = containerRef.current.clientWidth;\n      const containerHeight = containerRef.current.clientHeight;\n      const scaleX = containerWidth / width;\n      const scaleY = containerHeight / height;\n      const fitZoom = Math.min(scaleX, scaleY, 1) * 0.9;\n      setZoom(fitZoom);\n    }\n  }, []);\n  const toggleFullscreen = () => {\n    setIsFullscreen(!isFullscreen);\n  };\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.key === 'Escape') {\n        onClose();\n      } else if (e.key === '=' || e.key === '+') {\n        e.preventDefault();\n        handleZoomIn();\n      } else if (e.key === '-') {\n        e.preventDefault();\n        handleZoomOut();\n      } else if (e.key === '0') {\n        e.preventDefault();\n        handleFitToScreen();\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [zoom, handleZoomIn, handleZoomOut, handleFitToScreen, onClose]);\n  const getCroppedImg = (image, crop, rotation = 0) => {\n    const canvas = canvasRef.current;\n    if (!canvas) {\n      throw new Error('Canvas not found');\n    }\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      throw new Error('Canvas context not found');\n    }\n    const scaleX = image.naturalWidth / image.width;\n    const scaleY = image.naturalHeight / image.height;\n\n    // Set canvas size to the desired output size (300x300 for profile image)\n    const outputSize = 300;\n    canvas.width = outputSize;\n    canvas.height = outputSize;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.imageSmoothingEnabled = true;\n    ctx.imageSmoothingQuality = 'high';\n    const cropX = crop.x * scaleX;\n    const cropY = crop.y * scaleY;\n    const cropWidth = crop.width * scaleX;\n    const cropHeight = crop.height * scaleY;\n    const rotateRads = rotation * Math.PI / 180;\n    const centerX = outputSize / 2;\n    const centerY = outputSize / 2;\n    ctx.save();\n    ctx.translate(centerX, centerY);\n    ctx.rotate(rotateRads);\n    ctx.translate(-centerX, -centerY);\n\n    // Draw the cropped image scaled to fit the output size\n    ctx.drawImage(image, cropX, cropY, cropWidth, cropHeight, 0, 0, outputSize, outputSize);\n    ctx.restore();\n    return new Promise(resolve => {\n      canvas.toBlob(blob => {\n        if (blob) {\n          resolve(URL.createObjectURL(blob));\n        }\n      }, 'image/jpeg', 0.95);\n    });\n  };\n  const handleCropComplete = async () => {\n    if (completedCrop && imgRef.current) {\n      try {\n        const croppedImageUrl = await getCroppedImg(imgRef.current, completedCrop, rotation);\n        onCropComplete(croppedImageUrl);\n        onClose();\n      } catch (error) {\n        console.error('Error cropping image:', error);\n        alert('Error cropping image. Please try again.');\n      }\n    }\n  };\n  const handleRotate = direction => {\n    setRotation(prev => direction === 'left' ? prev - 90 : prev + 90);\n  };\n  const handleAspectRatioChange = value => {\n    const ratio = value === 'free' ? 0 : parseFloat(value);\n    setAspectRatio(ratio);\n  };\n  return /*#__PURE__*/_jsxDEV(ModalOverlay, {\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 1\n    },\n    exit: {\n      opacity: 0\n    },\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(ModalContent, {\n      initial: {\n        scale: 0.8,\n        opacity: 0\n      },\n      animate: {\n        scale: 1,\n        opacity: 1\n      },\n      exit: {\n        scale: 0.8,\n        opacity: 0\n      },\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n        children: [/*#__PURE__*/_jsxDEV(ModalTitle, {\n          children: \"Crop & Resize Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n          onClick: onClose,\n          whileHover: {\n            scale: 1.1\n          },\n          whileTap: {\n            scale: 0.9\n          },\n          children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Instructions, {\n        children: \"Drag to select the area you want to crop. The image will be resized to 300\\xD7300px for your profile. Use mouse wheel or +/- keys to zoom. Press 0 to fit to screen.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageInfo, {\n        children: [/*#__PURE__*/_jsxDEV(InfoItem, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Original:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), \" \", imageSize.width, \" \\xD7 \", imageSize.height, \"px\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InfoItem, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Output:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this), \" 300 \\xD7 300px (Profile Size)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InfoItem, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Zoom:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this), \" \", Math.round(zoom * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InfoItem, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Rotation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), \" \", rotation, \"\\xB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ZoomControls, {\n        children: [/*#__PURE__*/_jsxDEV(ZoomButton, {\n          onClick: handleZoomOut,\n          disabled: zoom <= 0.1,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          children: /*#__PURE__*/_jsxDEV(FaSearchMinus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ZoomSlider, {\n          type: \"range\",\n          min: \"0.1\",\n          max: \"5\",\n          step: \"0.1\",\n          value: zoom,\n          onChange: e => handleZoomChange(parseFloat(e.target.value))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ZoomLabel, {\n          children: [Math.round(zoom * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ZoomButton, {\n          onClick: handleZoomIn,\n          disabled: zoom >= 5,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          children: /*#__PURE__*/_jsxDEV(FaSearchPlus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ZoomButton, {\n          onClick: handleFitToScreen,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          children: [/*#__PURE__*/_jsxDEV(FaCompress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), \"Fit\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ZoomButton, {\n          onClick: toggleFullscreen,\n          whileHover: {\n            scale: 1.05\n          },\n          whileTap: {\n            scale: 0.95\n          },\n          children: [isFullscreen ? /*#__PURE__*/_jsxDEV(FaCompress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(FaExpand, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 46\n          }, this), isFullscreen ? 'Exit' : 'Fullscreen']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CropContainer, {\n        children: [/*#__PURE__*/_jsxDEV(ImageContainer, {\n          ref: containerRef,\n          style: {\n            maxHeight: isFullscreen ? '80vh' : '70vh'\n          },\n          children: /*#__PURE__*/_jsxDEV(ReactCrop, {\n            crop: crop,\n            onChange: (_, percentCrop) => setCrop(percentCrop),\n            onComplete: c => setCompletedCrop(c),\n            aspect: aspectRatio || undefined,\n            circularCrop: false,\n            children: /*#__PURE__*/_jsxDEV(StyledImage, {\n              ref: imgRef,\n              src: imageSrc,\n              alt: \"Crop me\",\n              onLoad: onImageLoad,\n              zoom: zoom,\n              style: {\n                transform: `rotate(${rotation}deg) scale(${zoom})`,\n                transition: 'transform 0.3s ease'\n              },\n              onWheel: e => {\n                e.preventDefault();\n                const delta = e.deltaY > 0 ? 0.9 : 1.1;\n                handleZoomChange(zoom * delta);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"aspect-ratio\",\n              style: {\n                marginRight: '0.5rem',\n                fontSize: '0.9rem'\n              },\n              children: \"Aspect Ratio:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 534,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(AspectRatioSelect, {\n              id: \"aspect-ratio\",\n              value: aspectRatio || 'free',\n              onChange: e => handleAspectRatioChange(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"free\",\n                children: \"Free\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"1:1 (Square)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4/3\",\n                children: \"4:3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"16/9\",\n                children: \"16:9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3/4\",\n                children: \"3:4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            className: \"rotate\",\n            onClick: () => handleRotate('left'),\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaUndo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this), \"Rotate Left\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            className: \"rotate\",\n            onClick: () => handleRotate('right'),\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaRedo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this), \"Rotate Right\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            className: \"primary\",\n            onClick: handleCropComplete,\n            disabled: !completedCrop,\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, this), \"Apply Crop\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            className: \"secondary\",\n            onClick: () => {\n              setZoom(1);\n              setRotation(0);\n              setCrop(undefined);\n              setCompletedCrop(undefined);\n            },\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaUndo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this), \"Reset\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            className: \"secondary\",\n            onClick: onClose,\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 15\n            }, this), \"Cancel\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        style: {\n          display: 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageCropper, \"EOjM3w21gGIzq++N1L/vQHuxSUo=\");\n_c17 = ImageCropper;\nexport default ImageCropper;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17;\n$RefreshReg$(_c, \"ModalOverlay\");\n$RefreshReg$(_c2, \"ModalContent\");\n$RefreshReg$(_c3, \"ModalHeader\");\n$RefreshReg$(_c4, \"ModalTitle\");\n$RefreshReg$(_c5, \"CloseButton\");\n$RefreshReg$(_c6, \"CropContainer\");\n$RefreshReg$(_c7, \"ImageContainer\");\n$RefreshReg$(_c8, \"StyledImage\");\n$RefreshReg$(_c9, \"ZoomControls\");\n$RefreshReg$(_c0, \"ZoomButton\");\n$RefreshReg$(_c1, \"ZoomSlider\");\n$RefreshReg$(_c10, \"ZoomLabel\");\n$RefreshReg$(_c11, \"ImageInfo\");\n$RefreshReg$(_c12, \"InfoItem\");\n$RefreshReg$(_c13, \"Controls\");\n$RefreshReg$(_c14, \"ControlButton\");\n$RefreshReg$(_c15, \"AspectRatioSelect\");\n$RefreshReg$(_c16, \"Instructions\");\n$RefreshReg$(_c17, \"ImageCropper\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","styled","motion","ReactCrop","centerCrop","makeAspectCrop","FaCheck","FaTimes","FaUndo","FaRedo","FaSearchPlus","FaSearchMinus","FaExpand","FaCompress","jsxDEV","_jsxDEV","ModalOverlay","div","_c","ModalContent","_c2","ModalHeader","_c3","ModalTitle","h3","_c4","CloseButton","button","_c5","CropContainer","_c6","ImageContainer","_c7","StyledImage","img","props","zoom","_c8","ZoomControls","_c9","ZoomButton","_c0","ZoomSlider","input","_c1","ZoomLabel","span","_c10","ImageInfo","_c11","InfoItem","_c12","Controls","_c13","ControlButton","_c14","AspectRatioSelect","select","_c15","Instructions","_c16","ImageCropper","imageSrc","onCropComplete","onClose","_s","crop","setCrop","completedCrop","setCompletedCrop","aspectRatio","setAspectRatio","rotation","setRotation","setZoom","imageSize","setImageSize","width","height","isFullscreen","setIsFullscreen","imgRef","canvasRef","containerRef","zoomTimeoutRef","onImageLoad","e","_containerRef$current","_containerRef$current2","naturalWidth","naturalHeight","currentTarget","containerWidth","current","clientWidth","containerHeight","clientHeight","scaleX","scaleY","initialZoom","Math","min","unit","handleZoomChange","newZoom","clampedZoom","max","clearTimeout","setTimeout","handleZoomIn","handleZoomOut","handleFitToScreen","fitZoom","toggleFullscreen","handleKeyDown","key","preventDefault","window","addEventListener","removeEventListener","getCroppedImg","image","canvas","Error","ctx","getContext","outputSize","setTransform","imageSmoothingEnabled","imageSmoothingQuality","cropX","x","cropY","y","cropWidth","cropHeight","rotateRads","PI","centerX","centerY","save","translate","rotate","drawImage","restore","Promise","resolve","toBlob","blob","URL","createObjectURL","handleCropComplete","croppedImageUrl","error","console","alert","handleRotate","direction","prev","handleAspectRatioChange","value","ratio","parseFloat","initial","opacity","animate","exit","onClick","children","scale","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","whileHover","whileTap","round","disabled","type","step","onChange","target","ref","style","maxHeight","_","percentCrop","onComplete","c","aspect","undefined","circularCrop","src","alt","onLoad","transform","transition","onWheel","delta","deltaY","htmlFor","marginRight","fontSize","id","className","display","_c17","$RefreshReg$"],"sources":["C:/Users/Ollie/OneDrive/Desktop/Personal Portfolio Site/src/components/ImageCropper.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\nimport ReactCrop, { Crop, PixelCrop, centerCrop, makeAspectCrop } from 'react-image-crop';\r\nimport { FaCheck, FaTimes, FaUndo, FaRedo, FaSearchPlus, FaSearchMinus, FaExpand, FaCompress } from 'react-icons/fa';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nconst ModalOverlay = styled(motion.div)`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 10000;\r\n  padding: 2rem;\r\n`;\r\n\r\nconst ModalContent = styled(motion.div)`\r\n  background: white;\r\n  border-radius: 15px;\r\n  padding: 2rem;\r\n  max-width: 95vw;\r\n  max-height: 95vh;\r\n  overflow: auto;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ModalHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst ModalTitle = styled.h3`\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\nconst CloseButton = styled(motion.button)`\r\n  background: none;\r\n  border: none;\r\n  font-size: 1.5rem;\r\n  color: #666;\r\n  cursor: pointer;\r\n  padding: 0.5rem;\r\n  border-radius: 50%;\r\n  \r\n  &:hover {\r\n    background: #f0f0f0;\r\n  }\r\n`;\r\n\r\nconst CropContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin-bottom: 1.5rem;\r\n  flex: 1;\r\n  min-height: 0;\r\n`;\r\n\r\nconst ImageContainer = styled.div`\r\n  position: relative;\r\n  max-width: 100%;\r\n  max-height: 70vh;\r\n  overflow: auto;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  background: #f8f9fa;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 300px;\r\n`;\r\n\r\nconst StyledImage = styled.img<{ zoom: number }>`\r\n  max-width: none;\r\n  max-height: none;\r\n  display: block;\r\n  transform: scale(${props => props.zoom});\r\n  transition: transform 0.3s ease;\r\n  cursor: grab;\r\n  \r\n  &:active {\r\n    cursor: grabbing;\r\n  }\r\n`;\r\n\r\nconst ZoomControls = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst ZoomButton = styled(motion.button)`\r\n  padding: 0.5rem;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 6px;\r\n  background: white;\r\n  color: #6c757d;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 0.9rem;\r\n  \r\n  &:hover {\r\n    background: #f8f9fa;\r\n    border-color: #adb5bd;\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst ZoomSlider = styled.input`\r\n  width: 150px;\r\n  margin: 0 1rem;\r\n`;\r\n\r\nconst ZoomLabel = styled.span`\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n  min-width: 60px;\r\n  text-align: center;\r\n`;\r\n\r\nconst ImageInfo = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n\r\nconst InfoItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.25rem;\r\n`;\r\n\r\nconst Controls = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ControlButton = styled(motion.button)`\r\n  padding: 0.75rem 1.5rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  transition: all 0.3s ease;\r\n\r\n  &.primary {\r\n    background: linear-gradient(45deg, #667eea, #764ba2);\r\n    color: white;\r\n\r\n    &:hover {\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);\r\n    }\r\n  }\r\n\r\n  &.secondary {\r\n    background: #f8f9fa;\r\n    color: #6c757d;\r\n    border: 1px solid #dee2e6;\r\n\r\n    &:hover {\r\n      background: #e9ecef;\r\n    }\r\n  }\r\n\r\n  &.rotate {\r\n    background: linear-gradient(45deg, #28a745, #20c997);\r\n    color: white;\r\n\r\n    &:hover {\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 5px 15px rgba(40, 167, 69, 0.3);\r\n    }\r\n  }\r\n`;\r\n\r\nconst AspectRatioSelect = styled.select`\r\n  padding: 0.5rem;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 6px;\r\n  font-size: 0.9rem;\r\n  background: white;\r\n`;\r\n\r\nconst Instructions = styled.div`\r\n  background: #f8f9fa;\r\n  padding: 1rem;\r\n  border-radius: 8px;\r\n  margin-bottom: 1rem;\r\n  font-size: 0.9rem;\r\n  color: #666;\r\n  text-align: center;\r\n`;\r\n\r\ninterface ImageCropperProps {\r\n  imageSrc: string;\r\n  onCropComplete: (croppedImageUrl: string) => void;\r\n  onClose: () => void;\r\n}\r\n\r\nconst ImageCropper: React.FC<ImageCropperProps> = ({ imageSrc, onCropComplete, onClose }) => {\r\n  const [crop, setCrop] = useState<Crop>();\r\n  const [completedCrop, setCompletedCrop] = useState<PixelCrop>();\r\n  const [aspectRatio, setAspectRatio] = useState<number>(1);\r\n  const [rotation, setRotation] = useState<number>(0);\r\n  const [zoom, setZoom] = useState<number>(1);\r\n  const [imageSize, setImageSize] = useState<{ width: number; height: number }>({ width: 0, height: 0 });\r\n  const [isFullscreen, setIsFullscreen] = useState<boolean>(false);\r\n  const imgRef = useRef<HTMLImageElement>(null);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const zoomTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const onImageLoad = useCallback((e: React.SyntheticEvent<HTMLImageElement>) => {\r\n    const { width, height, naturalWidth, naturalHeight } = e.currentTarget;\r\n    setImageSize({ width: naturalWidth, height: naturalHeight });\r\n    \r\n    // Calculate initial zoom to fit image in container\r\n    const containerWidth = containerRef.current?.clientWidth || 800;\r\n    const containerHeight = containerRef.current?.clientHeight || 600;\r\n    const scaleX = containerWidth / width;\r\n    const scaleY = containerHeight / height;\r\n    const initialZoom = Math.min(scaleX, scaleY, 1) * 0.8; // 80% of fit size\r\n    setZoom(initialZoom);\r\n    \r\n    const crop = centerCrop(\r\n      makeAspectCrop(\r\n        {\r\n          unit: '%',\r\n          width: 90,\r\n        },\r\n        aspectRatio,\r\n        width,\r\n        height\r\n      ),\r\n      width,\r\n      height\r\n    );\r\n    setCrop(crop);\r\n  }, [aspectRatio]);\r\n\r\n  const handleZoomChange = useCallback((newZoom: number) => {\r\n    const clampedZoom = Math.max(0.1, Math.min(5, newZoom));\r\n    \r\n    // Clear existing timeout\r\n    if (zoomTimeoutRef.current) {\r\n      clearTimeout(zoomTimeoutRef.current);\r\n    }\r\n    \r\n    // Debounce zoom changes to prevent ResizeObserver issues\r\n    zoomTimeoutRef.current = setTimeout(() => {\r\n      setZoom(clampedZoom);\r\n    }, 16); // ~60fps\r\n  }, []);\r\n\r\n  const handleZoomIn = useCallback(() => {\r\n    handleZoomChange(zoom * 1.2);\r\n  }, [zoom]);\r\n\r\n  const handleZoomOut = useCallback(() => {\r\n    handleZoomChange(zoom / 1.2);\r\n  }, [zoom]);\r\n\r\n  const handleFitToScreen = useCallback(() => {\r\n    if (imgRef.current && containerRef.current) {\r\n      const { width, height } = imgRef.current;\r\n      const containerWidth = containerRef.current.clientWidth;\r\n      const containerHeight = containerRef.current.clientHeight;\r\n      const scaleX = containerWidth / width;\r\n      const scaleY = containerHeight / height;\r\n      const fitZoom = Math.min(scaleX, scaleY, 1) * 0.9;\r\n      setZoom(fitZoom);\r\n    }\r\n  }, []);\r\n\r\n  const toggleFullscreen = () => {\r\n    setIsFullscreen(!isFullscreen);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        onClose();\r\n      } else if (e.key === '=' || e.key === '+') {\r\n        e.preventDefault();\r\n        handleZoomIn();\r\n      } else if (e.key === '-') {\r\n        e.preventDefault();\r\n        handleZoomOut();\r\n      } else if (e.key === '0') {\r\n        e.preventDefault();\r\n        handleFitToScreen();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [zoom, handleZoomIn, handleZoomOut, handleFitToScreen, onClose]);\r\n\r\n  const getCroppedImg = (image: HTMLImageElement, crop: PixelCrop, rotation: number = 0): Promise<string> => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) {\r\n      throw new Error('Canvas not found');\r\n    }\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) {\r\n      throw new Error('Canvas context not found');\r\n    }\r\n\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n\r\n    // Set canvas size to the desired output size (300x300 for profile image)\r\n    const outputSize = 300;\r\n    canvas.width = outputSize;\r\n    canvas.height = outputSize;\r\n\r\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n    ctx.imageSmoothingEnabled = true;\r\n    ctx.imageSmoothingQuality = 'high';\r\n\r\n    const cropX = crop.x * scaleX;\r\n    const cropY = crop.y * scaleY;\r\n    const cropWidth = crop.width * scaleX;\r\n    const cropHeight = crop.height * scaleY;\r\n\r\n    const rotateRads = (rotation * Math.PI) / 180;\r\n    const centerX = outputSize / 2;\r\n    const centerY = outputSize / 2;\r\n\r\n    ctx.save();\r\n    ctx.translate(centerX, centerY);\r\n    ctx.rotate(rotateRads);\r\n    ctx.translate(-centerX, -centerY);\r\n    \r\n    // Draw the cropped image scaled to fit the output size\r\n    ctx.drawImage(\r\n      image,\r\n      cropX,\r\n      cropY,\r\n      cropWidth,\r\n      cropHeight,\r\n      0,\r\n      0,\r\n      outputSize,\r\n      outputSize\r\n    );\r\n    ctx.restore();\r\n\r\n    return new Promise((resolve) => {\r\n      canvas.toBlob((blob) => {\r\n        if (blob) {\r\n          resolve(URL.createObjectURL(blob));\r\n        }\r\n      }, 'image/jpeg', 0.95);\r\n    });\r\n  };\r\n\r\n  const handleCropComplete = async () => {\r\n    if (completedCrop && imgRef.current) {\r\n      try {\r\n        const croppedImageUrl = await getCroppedImg(imgRef.current, completedCrop, rotation);\r\n        onCropComplete(croppedImageUrl);\r\n        onClose();\r\n      } catch (error) {\r\n        console.error('Error cropping image:', error);\r\n        alert('Error cropping image. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRotate = (direction: 'left' | 'right') => {\r\n    setRotation(prev => direction === 'left' ? prev - 90 : prev + 90);\r\n  };\r\n\r\n  const handleAspectRatioChange = (value: string) => {\r\n    const ratio = value === 'free' ? 0 : parseFloat(value);\r\n    setAspectRatio(ratio);\r\n  };\r\n\r\n  return (\r\n    <ModalOverlay\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n      onClick={onClose}\r\n    >\r\n      <ModalContent\r\n        initial={{ scale: 0.8, opacity: 0 }}\r\n        animate={{ scale: 1, opacity: 1 }}\r\n        exit={{ scale: 0.8, opacity: 0 }}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <ModalHeader>\r\n          <ModalTitle>Crop & Resize Image</ModalTitle>\r\n          <CloseButton\r\n            onClick={onClose}\r\n            whileHover={{ scale: 1.1 }}\r\n            whileTap={{ scale: 0.9 }}\r\n          >\r\n            <FaTimes />\r\n          </CloseButton>\r\n        </ModalHeader>\r\n\r\n        <Instructions>\r\n          Drag to select the area you want to crop. The image will be resized to 300×300px for your profile. Use mouse wheel or +/- keys to zoom. Press 0 to fit to screen.\r\n        </Instructions>\r\n\r\n        <ImageInfo>\r\n          <InfoItem>\r\n            <strong>Original:</strong> {imageSize.width} × {imageSize.height}px\r\n          </InfoItem>\r\n          <InfoItem>\r\n            <strong>Output:</strong> 300 × 300px (Profile Size)\r\n          </InfoItem>\r\n          <InfoItem>\r\n            <strong>Zoom:</strong> {Math.round(zoom * 100)}%\r\n          </InfoItem>\r\n          <InfoItem>\r\n            <strong>Rotation:</strong> {rotation}°\r\n          </InfoItem>\r\n        </ImageInfo>\r\n\r\n        <ZoomControls>\r\n          <ZoomButton\r\n            onClick={handleZoomOut}\r\n            disabled={zoom <= 0.1}\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <FaSearchMinus />\r\n          </ZoomButton>\r\n          \r\n          <ZoomSlider\r\n            type=\"range\"\r\n            min=\"0.1\"\r\n            max=\"5\"\r\n            step=\"0.1\"\r\n            value={zoom}\r\n            onChange={(e) => handleZoomChange(parseFloat(e.target.value))}\r\n          />\r\n          \r\n          <ZoomLabel>{Math.round(zoom * 100)}%</ZoomLabel>\r\n          \r\n          <ZoomButton\r\n            onClick={handleZoomIn}\r\n            disabled={zoom >= 5}\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <FaSearchPlus />\r\n          </ZoomButton>\r\n          \r\n          <ZoomButton\r\n            onClick={handleFitToScreen}\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <FaCompress />\r\n            Fit\r\n          </ZoomButton>\r\n          \r\n          <ZoomButton\r\n            onClick={toggleFullscreen}\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            {isFullscreen ? <FaCompress /> : <FaExpand />}\r\n            {isFullscreen ? 'Exit' : 'Fullscreen'}\r\n          </ZoomButton>\r\n        </ZoomControls>\r\n\r\n        <CropContainer>\r\n          <ImageContainer ref={containerRef} style={{ maxHeight: isFullscreen ? '80vh' : '70vh' }}>\r\n            <ReactCrop\r\n              crop={crop}\r\n              onChange={(_, percentCrop) => setCrop(percentCrop)}\r\n              onComplete={(c) => setCompletedCrop(c)}\r\n              aspect={aspectRatio || undefined}\r\n              circularCrop={false}\r\n            >\r\n              <StyledImage\r\n                ref={imgRef}\r\n                src={imageSrc}\r\n                alt=\"Crop me\"\r\n                onLoad={onImageLoad}\r\n                zoom={zoom}\r\n                style={{\r\n                  transform: `rotate(${rotation}deg) scale(${zoom})`,\r\n                  transition: 'transform 0.3s ease'\r\n                }}\r\n                onWheel={(e) => {\r\n                  e.preventDefault();\r\n                  const delta = e.deltaY > 0 ? 0.9 : 1.1;\r\n                  handleZoomChange(zoom * delta);\r\n                }}\r\n              />\r\n            </ReactCrop>\r\n          </ImageContainer>\r\n\r\n          <Controls>\r\n            <div>\r\n              <label htmlFor=\"aspect-ratio\" style={{ marginRight: '0.5rem', fontSize: '0.9rem' }}>\r\n                Aspect Ratio:\r\n              </label>\r\n              <AspectRatioSelect\r\n                id=\"aspect-ratio\"\r\n                value={aspectRatio || 'free'}\r\n                onChange={(e) => handleAspectRatioChange(e.target.value)}\r\n              >\r\n                <option value=\"free\">Free</option>\r\n                <option value=\"1\">1:1 (Square)</option>\r\n                <option value=\"4/3\">4:3</option>\r\n                <option value=\"16/9\">16:9</option>\r\n                <option value=\"3/4\">3:4</option>\r\n              </AspectRatioSelect>\r\n            </div>\r\n\r\n            <ControlButton\r\n              className=\"rotate\"\r\n              onClick={() => handleRotate('left')}\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <FaUndo />\r\n              Rotate Left\r\n            </ControlButton>\r\n\r\n            <ControlButton\r\n              className=\"rotate\"\r\n              onClick={() => handleRotate('right')}\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <FaRedo />\r\n              Rotate Right\r\n            </ControlButton>\r\n\r\n            <ControlButton\r\n              className=\"primary\"\r\n              onClick={handleCropComplete}\r\n              disabled={!completedCrop}\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <FaCheck />\r\n              Apply Crop\r\n            </ControlButton>\r\n\r\n            <ControlButton\r\n              className=\"secondary\"\r\n              onClick={() => {\r\n                setZoom(1);\r\n                setRotation(0);\r\n                setCrop(undefined);\r\n                setCompletedCrop(undefined);\r\n              }}\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <FaUndo />\r\n              Reset\r\n            </ControlButton>\r\n\r\n            <ControlButton\r\n              className=\"secondary\"\r\n              onClick={onClose}\r\n              whileHover={{ scale: 1.05 }}\r\n              whileTap={{ scale: 0.95 }}\r\n            >\r\n              <FaTimes />\r\n              Cancel\r\n            </ControlButton>\r\n          </Controls>\r\n        </CropContainer>\r\n\r\n        <canvas\r\n          ref={canvasRef}\r\n          style={{\r\n            display: 'none',\r\n          }}\r\n        />\r\n      </ModalContent>\r\n    </ModalOverlay>\r\n  );\r\n};\r\n\r\nexport default ImageCropper;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACvE,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,MAAM,QAAQ,eAAe;AACtC,OAAOC,SAAS,IAAqBC,UAAU,EAAEC,cAAc,QAAQ,kBAAkB;AACzF,SAASC,OAAO,EAAEC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,YAAY,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,gBAAgB;AACpH,OAAO,qCAAqC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,MAAMC,YAAY,GAAGf,MAAM,CAACC,MAAM,CAACe,GAAG,CAAC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GAZIF,YAAY;AAclB,MAAMG,YAAY,GAAGlB,MAAM,CAACC,MAAM,CAACe,GAAG,CAAC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAVID,YAAY;AAYlB,MAAME,WAAW,GAAGpB,MAAM,CAACgB,GAAG;AAC9B;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GALID,WAAW;AAOjB,MAAME,UAAU,GAAGtB,MAAM,CAACuB,EAAE;AAC5B;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAJIF,UAAU;AAMhB,MAAMG,WAAW,GAAGzB,MAAM,CAACC,MAAM,CAACyB,MAAM,CAAC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAZIF,WAAW;AAcjB,MAAMG,aAAa,GAAG5B,MAAM,CAACgB,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACa,GAAA,GARID,aAAa;AAUnB,MAAME,cAAc,GAAG9B,MAAM,CAACgB,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACe,GAAA,GAZID,cAAc;AAcpB,MAAME,WAAW,GAAGhC,MAAM,CAACiC,GAAqB;AAChD;AACA;AACA;AACA,qBAAqBC,KAAK,IAAIA,KAAK,CAACC,IAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAXIJ,WAAW;AAajB,MAAMK,YAAY,GAAGrC,MAAM,CAACgB,GAAG;AAC/B;AACA;AACA;AACA;AACA,CAAC;AAACsB,GAAA,GALID,YAAY;AAOlB,MAAME,UAAU,GAAGvC,MAAM,CAACC,MAAM,CAACyB,MAAM,CAAC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACc,GAAA,GArBID,UAAU;AAuBhB,MAAME,UAAU,GAAGzC,MAAM,CAAC0C,KAAK;AAC/B;AACA;AACA,CAAC;AAACC,GAAA,GAHIF,UAAU;AAKhB,MAAMG,SAAS,GAAG5C,MAAM,CAAC6C,IAAI;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAACC,IAAA,GALIF,SAAS;AAOf,MAAMG,SAAS,GAAG/C,MAAM,CAACgB,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACgC,IAAA,GATID,SAAS;AAWf,MAAME,QAAQ,GAAGjD,MAAM,CAACgB,GAAG;AAC3B;AACA;AACA;AACA,CAAC;AAACkC,IAAA,GAJID,QAAQ;AAMd,MAAME,QAAQ,GAAGnD,MAAM,CAACgB,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoC,IAAA,GANID,QAAQ;AAQd,MAAME,aAAa,GAAGrD,MAAM,CAACC,MAAM,CAACyB,MAAM,CAAC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC4B,IAAA,GAxCID,aAAa;AA0CnB,MAAME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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}